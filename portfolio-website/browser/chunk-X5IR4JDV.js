import{$ as _t,A as K,B as Q,C as W,D as X,E as Z,F as tt,H as et,I as it,K as ot,L as at,M as rt,N as nt,O as lt,P as dt,Q as mt,R as pt,S as ut,T as ct,U as st,V as ft,W as Dt,X as gt,Y as Ct,Z as Pt,_ as Mt,aa as vt,ba as bt,ca as xt,d as L,f as O,h as G,l as q,m as V,t as b,u as $,v as j,w as z,x as H,y as Y,z as J}from"./chunk-VATQQO3M.js";import{Ab as g,Cb as _,Mb as a,Nb as N,Ob as C,Pa as E,Pb as U,Qb as w,Rb as v,S as y,Sa as n,Tb as P,Ub as R,Wb as A,Xb as k,ba as m,fa as D,hb as c,l as h,lb as s,oa as S,ob as f,pa as F,rb as i,sb as e,ta as I,tb as u,xb as T,xc as B}from"./chunk-YZVNOV6U.js";function Ft(r,l){r&1&&(i(0,"mat-error"),a(1," Field is required "),e())}function It(r,l){r&1&&(i(0,"mat-error"),a(1," Field is required "),e())}function Et(r,l){r&1&&(i(0,"mat-error"),a(1," Field is required "),e())}var M=class r{dialogRef=m(ft);data=m(Dt);formBuilder=m(rt);updateProductDetailsForm=new tt({});ngOnInit(){this.updateProductDetailsForm=this.formBuilder.group({title:[this.data.productDetails.title??""],description:[this.data.productDetails.description??""],price:[this.data.productDetails.price??0]})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.updateProductDetailsForm.invalid){this.updateProductDetailsForm.markAllAsTouched();return}this.dialogRef.close({isConfirmed:!0,formData:this.updateProductDetailsForm.value})}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=D({type:r,selectors:[["app-update-product-details-dialog"]],standalone:!0,features:[P],decls:26,vars:5,consts:[["mat-dialog-container",""],["mat-dialog-title",""],["id","update-product-details-form","enctype","multipart/form-data","autocomplete","off",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","title"],["matInput","","type","text","formControlName","description"],["matInput","","type","number","formControlName","price"],["mat-raised-button","","type","submit","form","update-product-details-form","color","primary",3,"disabled"],["mat-raised-button","","color","accent","mat-dialog-close",""]],template:function(o,t){if(o&1&&(i(0,"div")(1,"div",0)(2,"div",1),a(3,"Update Product Details"),e()(),i(4,"mat-dialog-content")(5,"form",2),g("ngSubmit",function(){return t.onSubmit()}),i(6,"mat-form-field",3)(7,"mat-label"),a(8,"Title"),e(),u(9,"input",4),c(10,Ft,2,0,"mat-error"),e(),i(11,"mat-form-field",3)(12,"mat-label"),a(13,"Title"),e(),u(14,"input",5),c(15,It,2,0,"mat-error"),e(),i(16,"mat-form-field",3)(17,"mat-label"),a(18,"Title"),e(),u(19,"input",6),c(20,Et,2,0,"mat-error"),e()()(),i(21,"mat-dialog-actions")(22,"button",7),a(23," Submit "),e(),i(24,"button",8),a(25," Close "),e()()()),o&2){let p,d,x;n(5),s("formGroup",t.updateProductDetailsForm),n(5),f((p=t.updateProductDetailsForm.get("title"))!=null&&p.hasError("required")?10:-1),n(5),f((d=t.updateProductDetailsForm.get("description"))!=null&&d.hasError("required")?15:-1),n(5),f((x=t.updateProductDetailsForm.get("price"))!=null&&x.hasError("required")?20:-1),n(2),s("disabled",!t.updateProductDetailsForm.valid)}},dependencies:[ut,pt,dt,mt,st,ct,nt,et,W,it,X,Z,V,q,vt,Ct,Pt,_t,Mt,lt,ot,at],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})};var Tt=()=>["../../product-list"];function Nt(r,l){if(r&1){let o=T();i(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),a(3),e()(),u(4,"br")(5,"img",1),i(6,"mat-card-content"),u(7,"br"),i(8,"p"),a(9),e(),i(10,"div"),a(11),e(),i(12,"div"),a(13),e()(),i(14,"mat-card-actions")(15,"button",2),g("click",function(){S(o);let p=_(),d=v(3);return F(p.openUpdateProductDetailsDialog("0ms","0ms",d))}),a(16,"Update"),e()()()}if(r&2){let o;_();let t=v(3);n(3),C("",(o=t==null?null:t.title)!==null&&o!==void 0?o:""," "),n(2),s("src",t==null?null:t.image,E),n(4),N(t==null?null:t.description),n(2),C("Price: ",t==null?null:t.price,""),n(2),C("Rating: ",t==null||t.rating==null?null:t.rating.rate,"")}}var ht=class r{productService=m($);route=m(L);dialog=m(gt);destroyedRef=m(I);productDetails$=this.productService.getProductDetailsById(0);ngOnInit(){this.route.paramMap.pipe(b(this.destroyedRef)).subscribe(l=>{this.productDetails$=this.productService.getProductDetailsById(Number(l.get("productId")??0))})}openUpdateProductDetailsDialog(l,o,t){this.dialog.open(M,{width:"500px",enterAnimationDuration:l,exitAnimationDuration:o,data:{productDetails:t}}).afterClosed().pipe(b(this.destroyedRef),y(d=>d?.isConfirmed&&d?.formData?this.productService.updateProductDetailsById(t.id,d.formData):h)).subscribe(d=>{d&&(this.productDetails$=this.productService.getProductDetailsById(d.id))})}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=D({type:r,selectors:[["app-product-details"]],standalone:!0,features:[P],decls:6,vars:6,consts:[["mat-fab","",1,"button-container",3,"routerLink"],["mat-card-image","",3,"src"],["mat-raised-button","",3,"click"]],template:function(o,t){if(o&1&&(i(0,"button",0)(1,"mat-icon"),a(2,"arrow_back"),e()(),U(3),A(4,"async"),c(5,Nt,17,5,"mat-card")),o&2){s("routerLink",R(5,Tt)),n(3);let p=w(k(4,2,t.productDetails$));n(2),f(p?5:-1)}},dependencies:[Q,j,Y,H,J,K,z,B,G,O,xt,bt],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px;margin:24px}img[_ngcontent-%COMP%]{width:300px;height:300px}mat-card[_ngcontent-%COMP%]{width:330px;margin:24px}"]})};export{ht as ProductDetailsComponent};
